# 蓝牙串口接口

__*注：以下内容中主机指小程序，从机指计时器硬件__


## START

### 格式
START

### 含义
标识开始计时。

| 发送者 | 接收者 | 触发                                         | 动作                         |
| ------ | ------ | -------------------------------------------- | ---------------------------- |
| 主机   | 设备   | 用户在主机开始计时时，主机应向设备发送该指令 | 设备尝试开始计时，并回复结果 |
| 设备   | 主机   | 用户在设备开始计时时，设备应向主机发送该指令 | 主机尝试开始计时，并回复结果 |

## START+OK

### 格式
START+OK

### 含义
标识该设备已收到START指令，并成功开始计时。

| 发送者 | 接收者 | 触发                            | 动作 |
| ------ | ------ | ------------------------------- | ---- |
| 主机   | 设备   | 主机收到START指令并成功开始计时 | 暂无 |
| 设备   | 主机   | 设备收到START指令并成功开始计时 | 暂无 |

## START+FAIL

### 格式
START+FAIL

### 含义
标识该设备已收到START指令，但无法开始计时。

| 发送者 | 接收者 | 触发                              | 动作 |
| ------ | ------ | --------------------------------- | ---- |
| 主机   | 设备   | 主机收到START指令，但无法开始计时 | 暂无 |
| 设备   | 主机   | 设备收到START指令，但无法开始计时 | 暂无 |

## END

### 格式
END

### 含义
标识计时结束。特征time(UUID:8F3984E0-E8F8-47CB-919C-C9EC3DC2F0DB)为一32位无符号整数，表示刚刚结束的计时时长，单位为ms。

| 发送者 | 接收者 | 触发                                         | 动作                         |
| ------ | ------ | -------------------------------------------- | ---------------------------- |
| 主机   | 设备   | 用户在主机停止计时时，主机应向设备发送该指令 | 主机尝试停止计时，并回复结果 |
| 设备   | 主机   | 用户在设备停止计时时，设备应向主机发送该指令 | 主机尝试停止计时，并回复结果 |

## END+OK

__暂缓实现校验功能，正常停止计时即返回END+OK__

### 格式
END+OK

### 含义
标识该设备已收到END指令，并成功停止计时，且收到的时间与本设备时间误差≤±100ms。

| 发送者 | 接收者 | 触发                                                                 | 动作 |
| ------ | ------ | -------------------------------------------------------------------- | ---- |
| 主机   | 设备   | 主机收到END指令，并成功停止计时，且收到的时间与本设备时间误差≤±100ms | 暂无 |
| 设备   | 主机   | 设备收到END指令，并成功停止计时，且收到的时间与本设备时间误差≤±100ms | 暂无 |

## END+VERIFY

__暂缓实现__

### 格式
END+VERIFY

### 含义
标识该设备已收到END指令，并成功停止计时，且收到的时间与本设备时间误差＞±100ms。

| 发送者 | 接收者 | 触发                                                                 | 动作 |
| ------ | ------ | -------------------------------------------------------------------- | ---- |
| 主机   | 设备   | 主机收到END指令，并成功停止计时，且收到的时间与本设备时间误差>±100ms | 暂无 |
| 设备   | 主机   | 设备收到END指令，并成功停止计时，且收到的时间与本设备时间误差>±100ms | 暂无 |

## END+FAIL

### 格式
END+FAIL

### 含义
标识该设备已收到END指令，但无法停止计时。

| 发送者 | 接收者 | 触发                            | 动作 |
| ------ | ------ | ------------------------------- | ---- |
| 主机   | 设备   | 主机收到END指令，但无法停止计时 | 暂无 |
| 设备   | 主机   | 设备收到END指令，但无法停止计时 | 暂无 |